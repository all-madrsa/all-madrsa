<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add Profile - Nikah Portal</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
body {background:#fdf6e3; font-family:sans-serif;}
.container {max-width:500px; margin:auto; padding:20px;}
input, select, button {width:100%;}
button {cursor:pointer;}
</style>
</head>
<body>
<div class="container">
  <h1 class="text-2xl font-bold mb-4">Add New Profile</h1>
  <form id="postForm" class="flex flex-col gap-2">
    <input id="name" placeholder="Full Name" required class="border p-2 rounded">
    <input id="age" placeholder="Age" type="number" required class="border p-2 rounded">
    <select id="gender" required class="border p-2 rounded">
      <option value="">Select Gender</option>
      <option>Male</option>
      <option>Female</option>
    </select>
    <input id="marital" placeholder="Marital Status" required class="border p-2 rounded">
    <input id="city" placeholder="City" required class="border p-2 rounded">
    <input id="photo" type="file" accept="image/*" class="border p-2 rounded">
    <button type="submit" class="bg-blue-500 text-white py-2 rounded">Post Profile</button>
  </form>
  <div id="status" class="mt-4 font-bold"></div>
</div>

<script>
const imgbbApiKey = "YOUR_IMGBB_API_KEY"; // <-- yahan apni ImgBB API key daalein
const form = document.getElementById("postForm");
const status = document.getElementById("status");

form.onsubmit = async e => {
  e.preventDefault();
  status.textContent = "Uploading image... ⏳";

  const name = form.name.value.trim();
  const age = form.age.value.trim();
  const gender = form.gender.value;
  const marital = form.marital.value.trim();
  const city = form.city.value.trim();
  const photo = form.photo.files[0];

  if(!photo){ alert("Please select an image!"); return; }

  const reader = new FileReader();
  reader.readAsDataURL(photo);
  reader.onload = async () => {
    try {
      const formData = new FormData();
      formData.append("image", reader.result.split(",")[1]);
      const res = await fetch(`https://api.imgbb.com/1/upload?key=${imgbbApiKey}`, {
        method: "POST",
        body: formData
      });
      const data = await res.json();
      if(data.success){
        const imageUrl = data.data.url;
        // Ab aap is URL ko Firebase ya Firestore me save kar sakte ho
        console.log("Image URL:", imageUrl);

        status.textContent = "✅ Profile ready! Image uploaded.";
        form.reset();
      } else {
        status.textContent = "❌ Upload failed!";
      }
    } catch(err){
      console.error(err);
      status.textContent = "❌ Error uploading!";
    }
  }
};
</script>
</body>
</html>
