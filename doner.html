<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>âœ… Verified Donors</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .title-3d{font-weight:700;font-size:1.5rem;color:#fff;text-shadow:0 0 6px rgba(0,0,0,.8);}
    .card-3d{background:#fff;border-radius:.8rem;padding:1rem;box-shadow:0 6px 14px rgba(0,0,0,.15);}
  </style>
</head>
<body class="bg-slate-50 min-h-screen">

<header class="bg-purple-700 text-white p-3">
  <h1 class="title-3d">âœ… Verified Donors</h1>
 <nav class="flex gap-4 text-sm">
    <a href="index.html" class="hover:underline">ğŸ  Home</a>
    <a href="https://all-madrsa.netlify.app/upi" class="hover:underline">ğŸ’ Donate</a>
  </nav>
</header>

<main class="max-w-3xl mx-auto p-4">
  <div id="donationsList" class="space-y-4">
    <p>â³ Loading donors...</p>
  </div>
</main>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js";
  import { getFirestore, collection, query, where, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-firestore.js";

  // ğŸ”‘ Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyDMvkPqFKDjrMaLlBkercBYoLxEs1GEbng",
    authDomain: "all-madrsa.firebaseapp.com",
    projectId: "all-madrsa",
    storageBucket: "all-madrsa.appspot.com",
    messagingSenderId: "619313835874",
    appId: "1:619313835874:web:e387e1297663f11fc2463b"
  };
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const donationsList = document.getElementById("donationsList");

  // ğŸ“Œ Load only verified donors
  function loadVerifiedDonors() {
    const q = query(collection(db, "donations"), where("verified", "==", true));
    onSnapshot(q, (snap) => {
      donationsList.innerHTML = "";
      if (snap.empty) {
        donationsList.innerHTML = "<p>No verified donors yet.</p>";
        return;
      }
      snap.forEach((docSnap) => {
        const d = docSnap.data();
        const div = document.createElement("div");
        div.className = "card-3d";
        div.innerHTML = `
          <p><b>ğŸ‘¤ ${d.name}</b></p>
          <p>ğŸ  ${d.address}</p>
          <p>ğŸ’° â‚¹${d.amount}</p>
          <p>ğŸ“… ${new Date(d.created).toLocaleDateString()}</p>
        `;
        donationsList.appendChild(div);
      });
    });
  }

  loadVerifiedDonors();
</script>

  <!-- Fixed Donate Button -->
<a href="donate.html" 
   class="fixed top-1/2 right-4 transform -translate-y-1/2 
          bg-yellow-400 text-black font-bold px-5 py-3 
          rounded-lg shadow-lg hover:bg-yellow-300 z-50">
   ğŸ’ Donate
</a>

</body>
</html>
